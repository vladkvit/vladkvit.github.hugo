(function(p,x,W,X){var B='mouseover',C='mouseout',D='fbContentWrapper',E='timeoutTimer',F='nodeContains',r='display',q='onclicker',k='height',l='width',e;try{e=fb.data.Z9().fb.data}catch(_){}if(!e||!e.X)return;var y=e.XW,G=e.YL,m=e.ZI,s=fb.addEvent,t=fb.removeEvent,z=fb.getStyle;function O(d){var a=e.ZV('Z3'),c,b;while(c=d.pop()){var f=c.N.Z3,g=x,h=a.length;while(!g&&h--)g=c.C==a[h].C&&c.anchorIdframeHandle==a[h].Z;if(!g&&f){b=m(c.Z,c.G);f.T.push(fb.extend(c,{UW:fb[F](c.N.fbIndex,b),UZ:e.XA(),WX:P,YQ:Q}));var n=R(c),o=S(c),j=H(c,n,o);s(b,q,H(c,n,o),f.R);s(b,'click',b[q],f.R);s(b,'touchstart',b[q],f.R);s(b,B,n,f.R);s(b,C,o,f.R)}}}function R(a){return function(d){e.YZ(a[E]);if(z(m(a.Z,a.C),'top',p)<0)a.WX()}}function S(a){return function(d){a[E]=e.ZW(function(){a.YQ()},50)}}function H(b,f,g){return function(d){var a=this,c=p;if(d.touches){if(a[q]){t(a,B,f);t(a,C,g);t(a,'click',a[q]);t(a,q)}if(d.touches[1])return}z(m(b.Z,b.C),'top',p)<0?b.WX():b.Y3?fb.start(b):(c=x);if(c)fb.stopEvent(d)}}function P(){var d=this,a=m(d.Z,d.C),c=a&&a.style;if(a&&e.XA()>d.UZ+500){c[r]='inline';var b=a.offsetWidth,f=a.offsetHeight,g=0,h=0,n=d.UW&&d.N.L.maxIndexThumbSize,o;c[r]='';if(b&&n){o=e.Z8.core.W2(b,f,n,n,p,x);a[l]=b+=o[l];a[k]=f+=o[k]}if(d.ZO=='pip'){var j=d.N,I=j[D];if(I){var J=j.L.indexPos,K=!J.indexOf('t'),L=j.S[D],A=L[l],M=L[k],T=G(0,(K?j.WI:j.XP)-j.L.innerBorder),U=y(A,M)/2,N=y(U,T),u;u=(A-b)/2;e.Y7(a,I);g=z(j.fbIndex,'textAlign')=='center'?u:J.indexOf('l')==1?y(N,u):G(A-b-N,u);if(!K)h=M-f}}else{c[r]='none';var i=fb.getLayout(a.parentNode),v=fb.getViewport(),w=d.ZO;c[r]='';a.parentNode.style[r]='inline-block';g=i.left+(w=='left'?-b:w=='right'?i[l]:(i[l]-b)/2);h=i.top+(w=='up'?2-f:w=='down'?i[k]:(i[k]-f)/2);if(g+b>v[l])g=v[l]-b-1;if(g<0)g=1;if(h+f>v[k])h=v[k]-f-1;if(h<0)h=1;i=fb.getLayout(a.offsetParent||a.ownerDocument.body);g-=i.left;h-=i.top}c.left=g+'px';c.top=h+'px'}}function Q(){var d=this,a=m(d.Z,d.C),c;if(!d.V1&&a){if(d.ZO=='pip'&&(c=m(d.Z,d.G)))e.Y7(a,c);a.style.left=0;a.style.top='-9999px'}}e.X7=function(d){var a=e.ZV('Z3'),c=a.length,b;while(c--){b=a[c];if(!fb[F](m(b.Z,b.G),d))b.YQ()}};function V(d){e.F(d.Z3,p)}fb.extend(e.Z8.popup,{X:p,YO:O,F:V})})(!0,!1,null);